<html>
  <head>
    <title>reCAPTCHA demo: Explicit render after an onload callback</title>
    <script type="text/javascript">
        var w1 
        var onloadCallback = function() {
            w1 = grecaptcha.render('html_element', {
            'sitekey' : '6LfjTtgpAAAAAGj0_nSkB7RCNsvZ8HvbZMxe3GW7',
            'theme':"dark"
            });
        };

      
    </script>
  </head>
  <body> 
    
    <form  id="form_teste">
      <div id="html_element"></div>
      <br>
      <input type="text"><br><input type="text">
        <br>
      <input type="submit" id="btn_sub" value="Submit">
    </form>


    <script src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit"
        async defer>
    </script>
    <script>
        document.querySelector("#form_teste").addEventListener("submit",async (e) => {
        e.preventDefault()
        let tmp_token = grecaptcha.getResponse(w1) 
        // https://www.google.com/recaptcha/api/siteverify
        
        const data = { 
            response: tmp_token
        };

        let data_res = await fetch("action/verify_token_captcha.php",{
            method:"POST",
            body: new URLSearchParams(data)
        })

        let res = await data_res.json() 
        if(res.success){
          alert("Captcha valido")
        }else{
          alert("e o Captcha paiz√£o?")
        }
      })
    </script>
  </body>
</html>